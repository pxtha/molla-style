/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/index",{

/***/ "./utils/index.js":
/*!************************!*\
  !*** ./utils/index.js ***!
  \************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"cartPriceTotal\": function() { return /* binding */ cartPriceTotal; },\n/* harmony export */   \"cartQtyTotal\": function() { return /* binding */ cartQtyTotal; },\n/* harmony export */   \"isInCart\": function() { return /* binding */ isInCart; },\n/* harmony export */   \"canAddToCart\": function() { return /* binding */ canAddToCart; },\n/* harmony export */   \"isInWishlist\": function() { return /* binding */ isInWishlist; },\n/* harmony export */   \"isInCompare\": function() { return /* binding */ isInCompare; },\n/* harmony export */   \"isSafariBrowser\": function() { return /* binding */ isSafariBrowser; },\n/* harmony export */   \"isEdgeBrowser\": function() { return /* binding */ isEdgeBrowser; },\n/* harmony export */   \"getIndex\": function() { return /* binding */ getIndex; },\n/* harmony export */   \"catFilter\": function() { return /* binding */ catFilter; },\n/* harmony export */   \"attrFilter\": function() { return /* binding */ attrFilter; },\n/* harmony export */   \"scrollToPageContent\": function() { return /* binding */ scrollToPageContent; },\n/* harmony export */   \"parallax\": function() { return /* binding */ parallax; },\n/* harmony export */   \"countTo\": function() { return /* binding */ countTo; },\n/* harmony export */   \"safeContent\": function() { return /* binding */ safeContent; }\n/* harmony export */ });\n/* module decorator */ module = __webpack_require__.hmd(module);\n/**\n * get total Price of products in cart.\n * @param { Array } cartItems \n * @return { Float } totalPrice\n */\nvar cartPriceTotal = function cartPriceTotal(cartItems) {\n  return cartItems.reduce(function (acc, cur) {\n    return acc + cur.sum;\n  }, 0);\n};\n/**\n * get number of products in cart\n * @param { Array } cartItems \n * @return { Integer } numbers of cart items in cartlist\n */\n\nvar cartQtyTotal = function cartQtyTotal(cartItems) {\n  return cartItems.reduce(function (acc, cur) {\n    return acc + parseInt(cur.qty, 10);\n  }, 0);\n};\n/**\n * Decide where product is in cart.\n * @param { Array } cartItems \n * @param { Object } product \n */\n\nvar isInCart = function isInCart(cartItems, product) {\n  return cartItems.find(function (item) {\n    return item.id == product.id;\n  }) ? true : false;\n};\n/**\n * Confirm if product could be added to cart.\n * @param { Array } cartItems \n * @param { Object } product \n * @param { Number } qty \n */\n\nvar canAddToCart = function canAddToCart(cartItems, product, qty) {\n  var find = cartItems.find(function (item) {\n    return item.id == product.id;\n  });\n\n  if (find) {\n    if (product.attributes.stock == 0 || product.attributes.stock < find.qty + qty) return false;else return true;\n  } else {\n    if (product.attributes.stock == 0 || product.attributes.stock < qty) return false;else return true;\n  }\n};\n/**\n * \n * @param {Array} wishlist \n * @param {Object} product \n */\n\nvar isInWishlist = function isInWishlist(wishlist, product) {\n  return product && wishlist.findIndex(function (item) {\n    return item.id == product.id;\n  }) > -1;\n};\n/**\n * \n * @param {Array} compare \n * @param {Object} product \n */\n\nvar isInCompare = function isInCompare(compare, product) {\n  return product && compare.findIndex(function (item) {\n    return item.id == product.id;\n  }) > -1;\n};\n/**\n * utils to detect safari browser\n * @return {bool}\n */\n\nvar isSafariBrowser = function isSafariBrowser() {\n  var sUsrAg = navigator.userAgent;\n  if (sUsrAg.indexOf('Safari') !== -1 && sUsrAg.indexOf('Chrome') === -1) return true;\n  return false;\n};\n/**\n * utils to detect Edge browser\n * @return {bool}\n */\n\nvar isEdgeBrowser = function isEdgeBrowser() {\n  var sUsrAg = navigator.userAgent;\n  if (sUsrAg.indexOf(\"Edge\") > -1) return true;\n  return false;\n};\n/**\n * get index of the element\n * @param {Element} element \n */\n\nvar getIndex = function getIndex(element) {\n  var children = element.parentElement.children;\n\n  for (var i = 0; i < children.length; i++) {\n    if (element == children[i]) return i;\n  }\n\n  return 0;\n};\n/**\n * filter products by category.\n * @param {Array} products \n * @param {Array} category \n * @param {Boolean} flag \n */\n\nvar catFilter = function catFilter() {\n  var products = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var category = arguments.length > 1 ? arguments[1] : undefined;\n  var flag = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  if (category[0] === 'All') return products;\n  return products.filter(function (item) {\n    var _loop = function _loop(i) {\n      var _item$attributes, _item$attributes$cate;\n\n      if ((_item$attributes = item.attributes) !== null && _item$attributes !== void 0 && (_item$attributes$cate = _item$attributes.categories) !== null && _item$attributes$cate !== void 0 && _item$attributes$cate.data.find(function (cat) {\n        var _cat$attributes;\n\n        return ((_cat$attributes = cat.attributes) === null || _cat$attributes === void 0 ? void 0 : _cat$attributes.slug) == category[i];\n      })) {\n        if (!flag) return {\n          v: true\n        };\n      } else {\n        if (flag) return {\n          v: false\n        };\n      }\n    };\n\n    for (var i = 0; i < category.length; i++) {\n      var _ret = _loop(i);\n\n      if (typeof _ret === \"object\") return _ret.v;\n    }\n\n    if (flag) return true;else return false;\n  });\n};\n/**\n * filter products by attribute\n * @param {Array} products \n * @param {String} attr \n */\n\nvar attrFilter = function attrFilter() {\n  var products = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var attr = arguments.length > 1 ? arguments[1] : undefined;\n  // if(products)\n  return products.filter(function (item) {\n    if (attr === 'all') {\n      return true;\n    }\n\n    if (attr === 'sale' && item.attributes.sale_price) {\n      return true;\n    }\n\n    if (attr === 'rated' && item.ratings > 3) {\n      return true;\n    }\n\n    if (attr === 'until' && item.until) {\n      return true;\n    }\n\n    return item[attr] === true;\n  });\n};\n/**\n * Scrolling to Page content section\n */\n\nvar scrollToPageContent = function scrollToPageContent() {\n  var _document$querySelect;\n\n  var to = ((_document$querySelect = document.querySelector('.page-content')) === null || _document$querySelect === void 0 ? void 0 : _document$querySelect.offsetTop) - 74;\n\n  if (isSafariBrowser() || isEdgeBrowser()) {\n    var pos = window.pageYOffset;\n    var timerId = setInterval(function () {\n      if (pos <= to) clearInterval(timerId);else {\n        window.scrollBy(0, -120);\n        pos -= 120;\n      }\n    }, 1);\n  } else {\n    window.scrollTo({\n      top: to,\n      behavior: 'smooth'\n    });\n  }\n};\n/**\n * utils to make background parallax\n */\n\nvar parallax = function parallax() {\n  var parallax = document.querySelectorAll('.bg-parallax');\n\n  for (var i = 0; i < parallax.length; i++) {\n    var y = 0;\n\n    if (parallax[i].classList.contains('header-parallax')) {\n      y = (10 - window.pageYOffset) * 47 / 900 + 50;\n    } else {\n      y = (parallax[i].offsetTop - window.pageYOffset) * 47 / parallax[i].offsetTop + 50;\n    }\n\n    parallax[i].style.backgroundPositionY = y + '%';\n  }\n};\n/**\n * utils to set count to in about-2\n */\n\nvar countTo = function countTo() {\n  var items = document.querySelectorAll('.count');\n\n  if (items) {\n    var _loop2 = function _loop2(i) {\n      var item = items[i];\n      var amount = parseInt(item.getAttribute('data-to'), 10) - parseInt(item.getAttribute('data-from'), 10);\n      var time = parseInt(item.getAttribute('data-speed'), 10);\n      var interval = parseInt(item.getAttribute('data-refresh-interval'), 10);\n      var pt = 0;\n      var height = item.parentElement.parentElement.parentElement.offsetTop;\n      var flag = 0;\n      document.addEventListener(\"scroll\", countToScrollHandler, true);\n\n      function countToScrollHandler() {\n        if (pt <= time && height >= window.pageYOffset) {\n          if (0 === flag) {\n            var timerId = setInterval(function () {\n              if (pt >= time) {\n                clearInterval(timerId);\n              }\n\n              item.innerHTML = parseInt(pt * amount / time);\n              pt = pt + interval;\n            }, interval);\n          }\n\n          flag = 1;\n        }\n      }\n    };\n\n    for (var i = 0; i < items.length; i++) {\n      _loop2(i);\n    }\n  }\n};\n/**\n * Prevent Xss Attack\n * @param {Node} html \n */\n\nfunction safeContent(html) {\n  var SCRIPT_REGEX = /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi; // Removing the <script> tags\n\n  while (SCRIPT_REGEX.test(html)) {\n    html = html.replace(SCRIPT_REGEX, \"\");\n  } // Removing all events from tags...\n\n\n  html = html.replace(/ on\\w+=\"[^\"]*\"/g, \"\");\n  return {\n    __html: html\n  };\n}\n\n;\n    var _a, _b;\n    // Legacy CSS implementations will `eval` browser code in a Node.js context\n    // to extract CSS. For backwards compatibility, we need to check we're in a\n    // browser context before continuing.\n    if (typeof self !== 'undefined' &&\n        // AMP / No-JS mode does not inject these helpers:\n        '$RefreshHelpers$' in self) {\n        var currentExports = module.__proto__.exports;\n        var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n        // This cannot happen in MainTemplate because the exports mismatch between\n        // templating and execution.\n        self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n        // A module can be accepted automatically based on its exports, e.g. when\n        // it is a Refresh Boundary.\n        if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n            // Save the previous exports on update so we can compare the boundary\n            // signatures.\n            module.hot.dispose(function (data) {\n                data.prevExports = currentExports;\n            });\n            // Unconditionally accept an update to this module, we'll check if it's\n            // still a Refresh Boundary later.\n            module.hot.accept();\n            // This field is set when the previous version of this module was a\n            // Refresh Boundary, letting us know we need to check for invalidation or\n            // enqueue an update.\n            if (prevExports !== null) {\n                // A boundary can become ineligible if its exports are incompatible\n                // with the previous exports.\n                //\n                // For example, if you add/remove/change exports, we'll want to\n                // re-execute the importing modules, and force those components to\n                // re-render. Similarly, if you convert a class component to a\n                // function, we want to invalidate the boundary.\n                if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                    module.hot.invalidate();\n                }\n                else {\n                    self.$RefreshHelpers$.scheduleUpdate();\n                }\n            }\n        }\n        else {\n            // Since we just executed the code for the module, it's possible that the\n            // new exports made it ineligible for being a boundary.\n            // We only care about the case when we were _previously_ a boundary,\n            // because we already accepted this update (accidental side effect).\n            var isNoLongerABoundary = prevExports !== null;\n            if (isNoLongerABoundary) {\n                module.hot.invalidate();\n            }\n        }\n    }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vdXRpbHMvaW5kZXguanM/NDIyZCJdLCJuYW1lcyI6WyJjYXJ0UHJpY2VUb3RhbCIsImNhcnRJdGVtcyIsInJlZHVjZSIsImFjYyIsImN1ciIsInN1bSIsImNhcnRRdHlUb3RhbCIsInBhcnNlSW50IiwicXR5IiwiaXNJbkNhcnQiLCJwcm9kdWN0IiwiZmluZCIsIml0ZW0iLCJpZCIsImNhbkFkZFRvQ2FydCIsImF0dHJpYnV0ZXMiLCJzdG9jayIsImlzSW5XaXNobGlzdCIsIndpc2hsaXN0IiwiZmluZEluZGV4IiwiaXNJbkNvbXBhcmUiLCJjb21wYXJlIiwiaXNTYWZhcmlCcm93c2VyIiwic1VzckFnIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiaW5kZXhPZiIsImlzRWRnZUJyb3dzZXIiLCJnZXRJbmRleCIsImVsZW1lbnQiLCJjaGlsZHJlbiIsInBhcmVudEVsZW1lbnQiLCJpIiwibGVuZ3RoIiwiY2F0RmlsdGVyIiwicHJvZHVjdHMiLCJjYXRlZ29yeSIsImZsYWciLCJmaWx0ZXIiLCJjYXRlZ29yaWVzIiwiZGF0YSIsImNhdCIsInNsdWciLCJhdHRyRmlsdGVyIiwiYXR0ciIsInNhbGVfcHJpY2UiLCJyYXRpbmdzIiwidW50aWwiLCJzY3JvbGxUb1BhZ2VDb250ZW50IiwidG8iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJvZmZzZXRUb3AiLCJwb3MiLCJ3aW5kb3ciLCJwYWdlWU9mZnNldCIsInRpbWVySWQiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJzY3JvbGxCeSIsInNjcm9sbFRvIiwidG9wIiwiYmVoYXZpb3IiLCJwYXJhbGxheCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ5IiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJzdHlsZSIsImJhY2tncm91bmRQb3NpdGlvblkiLCJjb3VudFRvIiwiaXRlbXMiLCJhbW91bnQiLCJnZXRBdHRyaWJ1dGUiLCJ0aW1lIiwiaW50ZXJ2YWwiLCJwdCIsImhlaWdodCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjb3VudFRvU2Nyb2xsSGFuZGxlciIsImlubmVySFRNTCIsInNhZmVDb250ZW50IiwiaHRtbCIsIlNDUklQVF9SRUdFWCIsInRlc3QiLCJyZXBsYWNlIiwiX19odG1sIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLElBQU1BLGNBQWMsR0FBRyxTQUFqQkEsY0FBaUIsQ0FBQUMsU0FBUyxFQUFJO0FBQ3ZDLFNBQU9BLFNBQVMsQ0FBQ0MsTUFBVixDQUFrQixVQUFFQyxHQUFGLEVBQU9DLEdBQVAsRUFBZ0I7QUFDckMsV0FBT0QsR0FBRyxHQUFHQyxHQUFHLENBQUNDLEdBQWpCO0FBQ0gsR0FGTSxFQUVKLENBRkksQ0FBUDtBQUdILENBSk07QUFNUDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNPLElBQU1DLFlBQVksR0FBRyxTQUFmQSxZQUFlLENBQUFMLFNBQVMsRUFBSTtBQUNyQyxTQUFPQSxTQUFTLENBQUNDLE1BQVYsQ0FBa0IsVUFBRUMsR0FBRixFQUFPQyxHQUFQLEVBQWdCO0FBQ3JDLFdBQU9ELEdBQUcsR0FBR0ksUUFBUSxDQUFFSCxHQUFHLENBQUNJLEdBQU4sRUFBVyxFQUFYLENBQXJCO0FBQ0gsR0FGTSxFQUVKLENBRkksQ0FBUDtBQUdILENBSk07QUFNUDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNPLElBQU1DLFFBQVEsR0FBRyxTQUFYQSxRQUFXLENBQUVSLFNBQUYsRUFBYVMsT0FBYixFQUEwQjtBQUM5QyxTQUFPVCxTQUFTLENBQUNVLElBQVYsQ0FBZ0IsVUFBQUMsSUFBSTtBQUFBLFdBQUlBLElBQUksQ0FBQ0MsRUFBTCxJQUFXSCxPQUFPLENBQUNHLEVBQXZCO0FBQUEsR0FBcEIsSUFBa0QsSUFBbEQsR0FBeUQsS0FBaEU7QUFDSCxDQUZNO0FBSVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNPLElBQU1DLFlBQVksR0FBRyxTQUFmQSxZQUFlLENBQUViLFNB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O0FBNUJJOztBQUNULFNBQU0sSUFBSUwsQ0FBQyxHQUFHLENBQWQsRUFBaUJBLENBQUMsR0FBR3VDLEtBQUssQ0FBQ3RDLE1BQTNCLEVBQW1DRCxDQUFDLEVBQXBDLEVBQXlDO0FBQUEsYUFBL0JBLENBQStCO0FBNEJ4QztBQUNKO0FBQ0osQ0FsQ007QUFxQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBQ08sU0FBU2lELFdBQVQsQ0FBdUJDLElBQXZCLEVBQThCO0FBQ2pDLE1BQU1DLFlBQVksR0FBRyxxREFBckIsQ0FEaUMsQ0FHakM7O0FBQ0EsU0FBUUEsWUFBWSxDQUFDQyxJQUFiLENBQW1CRixJQUFuQixDQUFSLEVBQW9DO0FBQ2hDQSxRQUFJLEdBQUdBLElBQUksQ0FBQ0csT0FBTCxDQUFjRixZQUFkLEVBQTRCLEVBQTVCLENBQVA7QUFDSCxHQU5nQyxDQVFqQzs7O0FBQ0FELE1BQUksR0FBR0EsSUFBSSxDQUFDRyxPQUFMLENBQWMsaUJBQWQsRUFBaUMsRUFBakMsQ0FBUDtBQUVBLFNBQU87QUFDSEMsVUFBTSxFQUFFSjtBQURMLEdBQVA7QUFHSCIsImZpbGUiOiIuL3V0aWxzL2luZGV4LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBnZXQgdG90YWwgUHJpY2Ugb2YgcHJvZHVjdHMgaW4gY2FydC5cbiAqIEBwYXJhbSB7IEFycmF5IH0gY2FydEl0ZW1zIFxuICogQHJldHVybiB7IEZsb2F0IH0gdG90YWxQcmljZVxuICovXG5leHBvcnQgY29uc3QgY2FydFByaWNlVG90YWwgPSBjYXJ0SXRlbXMgPT4ge1xuICAgIHJldHVybiBjYXJ0SXRlbXMucmVkdWNlKCAoIGFjYywgY3VyICkgPT4ge1xuICAgICAgICByZXR1cm4gYWNjICsgY3VyLnN1bVxuICAgIH0sIDAgKTtcbn1cblxuLyoqXG4gKiBnZXQgbnVtYmVyIG9mIHByb2R1Y3RzIGluIGNhcnRcbiAqIEBwYXJhbSB7IEFycmF5IH0gY2FydEl0ZW1zIFxuICogQHJldHVybiB7IEludGVnZXIgfSBudW1iZXJzIG9mIGNhcnQgaXRlbXMgaW4gY2FydGxpc3RcbiAqL1xuZXhwb3J0IGNvbnN0IGNhcnRRdHlUb3RhbCA9IGNhcnRJdGVtcyA9PiB7XG4gICAgcmV0dXJuIGNhcnRJdGVtcy5yZWR1Y2UoICggYWNjLCBjdXIgKSA9PiB7XG4gICAgICAgIHJldHVybiBhY2MgKyBwYXJzZUludCggY3VyLnF0eSwgMTAgKTtcbiAgICB9LCAwICk7XG59XG5cbi8qKlxuICogRGVjaWRlIHdoZXJlIHByb2R1Y3QgaXMgaW4gY2FydC5cbiAqIEBwYXJhbSB7IEFycmF5IH0gY2FydEl0ZW1zIFxuICogQHBhcmFtIHsgT2JqZWN0IH0gcHJvZHVjdCBcbiAqL1xuZXhwb3J0IGNvbnN0IGlzSW5DYXJ0ID0gKCBjYXJ0SXRlbXMsIHByb2R1Y3QgKSA9PiB7XG4gICAgcmV0dXJuIGNhcnRJdGVtcy5maW5kKCBpdGVtID0+IGl0ZW0uaWQgPT0gcHJvZHVjdC5pZCApID8gdHJ1ZSA6IGZhbHNlO1xufVxuXG4vKipcbiAqIENvbmZpcm0gaWYgcHJvZHVjdCBjb3VsZCBiZSBhZGRlZCB0byBjYXJ0LlxuICogQHBhcmFtIHsgQXJyYXkgfSBjYXJ0SXRlbXMgXG4gKiBAcGFyYW0geyBPYmplY3QgfSBwcm9kdWN0IFxuICogQHBhcmFtIHsgTnVtYmVyIH0gcXR5IFxuICovXG5leHBvcnQgY29uc3QgY2FuQWRkVG9DYXJ0ID0gKCBjYXJ0SXRlbXMsIHByb2R1Y3QsIHF0eSApID0+IHtcbiAgICBsZXQgZmluZCA9IGNhcnRJdGVtcy5maW5kKCBpdGVtID0+IGl0ZW0uaWQgPT0gcHJvZHVjdC5pZCApO1xuICAgIGlmICggZmluZCApIHtcbiAgICAgICAgaWYgKCBwcm9kdWN0LmF0dHJpYnV0ZXMuc3RvY2sgPT0gMCB8fCAoIHByb2R1Y3QuYXR0cmlidXRlcy5zdG9jayA8ICggZmluZC5xdHkgKyBxdHkgKSApICkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBlbHNlIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICggcHJvZHVjdC5hdHRyaWJ1dGVzLnN0b2NrID09IDAgfHwgKCBwcm9kdWN0LmF0dHJpYnV0ZXMuc3RvY2sgPCBxdHkgKSApIHJldHVybiBmYWxzZTtcbiAgICAgICAgZWxzZSByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5cbi8qKlxuICogXG4gKiBAcGFyYW0ge0FycmF5fSB3aXNobGlzdCBcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9kdWN0IFxuICovXG5leHBvcnQgY29uc3QgaXNJbldpc2hsaXN0ID0gKCB3aXNobGlzdCwgcHJvZHVjdCApID0+IHtcbiAgICByZXR1cm4gcHJvZHVjdCAmJiB3aXNobGlzdC5maW5kSW5kZXgoIGl0ZW0gPT4gaXRlbS5pZCA9PSBwcm9kdWN0LmlkICkgPiAtMTtcbn1cblxuLyoqXG4gKiBcbiAqIEBwYXJhbSB7QXJyYXl9IGNvbXBhcmUgXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvZHVjdCBcbiAqL1xuZXhwb3J0IGNvbnN0IGlzSW5Db21wYXJlID0gKCBjb21wYXJlLCBwcm9kdWN0ICkgPT4ge1xuICAgIHJldHVybiBwcm9kdWN0ICYmIGNvbXBhcmUuZmluZEluZGV4KCBpdGVtID0+IGl0ZW0uaWQgPT0gcHJvZHVjdC5pZCApID4gLTE7XG59XG5cblxuLyoqXG4gKiB1dGlscyB0byBkZXRlY3Qgc2FmYXJpIGJyb3dzZXJcbiAqIEByZXR1cm4ge2Jvb2x9XG4gKi9cbmV4cG9ydCBjb25zdCBpc1NhZmFyaUJyb3dzZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IHNVc3JBZyA9IG5hdmlnYXRvci51c2VyQWdlbnQ7XG4gICAgaWYgKCBzVXNyQWcuaW5kZXhPZiggJ1NhZmFyaScgKSAhPT0gLTEgJiYgc1VzckFnLmluZGV4T2YoICdDaHJvbWUnICkgPT09IC0xIClcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5cbi8qKlxuICogdXRpbHMgdG8gZGV0ZWN0IEVkZ2UgYnJvd3NlclxuICogQHJldHVybiB7Ym9vbH1cbiAqL1xuZXhwb3J0IGNvbnN0IGlzRWRnZUJyb3dzZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IHNVc3JBZyA9IG5hdmlnYXRvci51c2VyQWdlbnQ7XG4gICAgaWYgKCBzVXNyQWcuaW5kZXhPZiggXCJFZGdlXCIgKSA+IC0xIClcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIGdldCBpbmRleCBvZiB0aGUgZWxlbWVudFxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IFxuICovXG5leHBvcnQgY29uc3QgZ2V0SW5kZXggPSBmdW5jdGlvbiAoIGVsZW1lbnQgKSB7XG4gICAgbGV0IGNoaWxkcmVuID0gZWxlbWVudC5wYXJlbnRFbGVtZW50LmNoaWxkcmVuO1xuICAgIGZvciAoIGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrICkge1xuICAgICAgICBpZiAoIGVsZW1lbnQgPT0gY2hpbGRyZW5bIGkgXSApIHJldHVybiBpO1xuICAgIH1cblxuICAgIHJldHVybiAwO1xufVxuXG4vKipcbiAqIGZpbHRlciBwcm9kdWN0cyBieSBjYXRlZ29yeS5cbiAqIEBwYXJhbSB7QXJyYXl9IHByb2R1Y3RzIFxuICogQHBhcmFtIHtBcnJheX0gY2F0ZWdvcnkgXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGZsYWcgXG4gKi9cbmV4cG9ydCBjb25zdCBjYXRGaWx0ZXIgPSBmdW5jdGlvbiAoIHByb2R1Y3RzID0gW10sIGNhdGVnb3J5LCBmbGFnID0gZmFsc2UgKSB7XG4gICAgaWYgKCBjYXRlZ29yeVsgMCBdID09PSAnQWxsJyApIHJldHVybiBwcm9kdWN0cztcblxuICAgIHJldHVybiBwcm9kdWN0cy5maWx0ZXIoIGl0ZW0gPT4ge1xuICAgICAgICBmb3IgKCBsZXQgaSA9IDA7IGkgPCBjYXRlZ29yeS5sZW5ndGg7IGkrKyApIHtcbiAgICAgICAgICAgIGlmICggaXRlbS5hdHRyaWJ1dGVzPy5jYXRlZ29yaWVzPy5kYXRhLmZpbmQoIGNhdCA9PiBjYXQuYXR0cmlidXRlcz8uc2x1ZyA9PSBjYXRlZ29yeVsgaSBdICkgKSB7XG4gICAgICAgICAgICAgICAgaWYgKCAhZmxhZyApIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoIGZsYWcgKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIGZsYWcgKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IClcbn1cblxuLyoqXG4gKiBmaWx0ZXIgcHJvZHVjdHMgYnkgYXR0cmlidXRlXG4gKiBAcGFyYW0ge0FycmF5fSBwcm9kdWN0cyBcbiAqIEBwYXJhbSB7U3RyaW5nfSBhdHRyIFxuICovXG5leHBvcnQgY29uc3QgYXR0ckZpbHRlciA9IGZ1bmN0aW9uICggcHJvZHVjdHMgPSBbXSwgYXR0ciApIHtcbiAgICAvLyBpZihwcm9kdWN0cylcbiAgICByZXR1cm4gcHJvZHVjdHMuZmlsdGVyKCBpdGVtID0+IHtcbiAgICAgICAgaWYgKCBhdHRyID09PSAnYWxsJyApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCBhdHRyID09PSAnc2FsZScgJiYgaXRlbS5hdHRyaWJ1dGVzLnNhbGVfcHJpY2UgKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggYXR0ciA9PT0gJ3JhdGVkJyAmJiBpdGVtLnJhdGluZ3MgPiAzICkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIGF0dHIgPT09ICd1bnRpbCcgJiYgaXRlbS51bnRpbCApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGl0ZW1bIGF0dHIgXSA9PT0gdHJ1ZTtcbiAgICB9ICk7XG59XG5cbi8qKlxuICogU2Nyb2xsaW5nIHRvIFBhZ2UgY29udGVudCBzZWN0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBzY3JvbGxUb1BhZ2VDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCB0byA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoICcucGFnZS1jb250ZW50JyApPy5vZmZzZXRUb3AgLSA3NDtcbiAgICBpZiAoIGlzU2FmYXJpQnJvd3NlcigpIHx8IGlzRWRnZUJyb3dzZXIoKSApIHtcbiAgICAgICAgbGV0IHBvcyA9IHdpbmRvdy5wYWdlWU9mZnNldDtcbiAgICAgICAgbGV0IHRpbWVySWQgPSBzZXRJbnRlcnZhbCggKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCBwb3MgPD0gdG8gKSBjbGVhckludGVydmFsKCB0aW1lcklkICk7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuc2Nyb2xsQnkoIDAsIC0xMjAgKTtcbiAgICAgICAgICAgICAgICBwb3MgLT0gMTIwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAxICk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgd2luZG93LnNjcm9sbFRvKCB7XG4gICAgICAgICAgICB0b3A6IHRvLFxuICAgICAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnXG4gICAgICAgIH0gKTtcbiAgICB9XG59XG5cbi8qKlxuICogdXRpbHMgdG8gbWFrZSBiYWNrZ3JvdW5kIHBhcmFsbGF4XG4gKi9cbmV4cG9ydCBjb25zdCBwYXJhbGxheCA9ICgpID0+IHtcbiAgICBsZXQgcGFyYWxsYXggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCAnLmJnLXBhcmFsbGF4JyApO1xuXG4gICAgZm9yICggbGV0IGkgPSAwOyBpIDwgcGFyYWxsYXgubGVuZ3RoOyBpKysgKSB7XG4gICAgICAgIGxldCB5ID0gMDtcbiAgICAgICAgaWYgKCBwYXJhbGxheFsgaSBdLmNsYXNzTGlzdC5jb250YWlucyggJ2hlYWRlci1wYXJhbGxheCcgKSApIHtcbiAgICAgICAgICAgIHkgPSAoIDEwIC0gd2luZG93LnBhZ2VZT2Zmc2V0ICkgKiA0NyAvIDkwMCArIDUwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgeSA9ICggcGFyYWxsYXhbIGkgXS5vZmZzZXRUb3AgLSB3aW5kb3cucGFnZVlPZmZzZXQgKSAqIDQ3IC8gcGFyYWxsYXhbIGkgXS5vZmZzZXRUb3AgKyA1MDtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhcmFsbGF4WyBpIF0uc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uWSA9IHkgKyAnJSc7XG4gICAgfVxufVxuXG4vKipcbiAqIHV0aWxzIHRvIHNldCBjb3VudCB0byBpbiBhYm91dC0yXG4gKi9cbmV4cG9ydCBjb25zdCBjb3VudFRvID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCBpdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoICcuY291bnQnICk7XG5cbiAgICBpZiAoIGl0ZW1zICkge1xuICAgICAgICBmb3IgKCBsZXQgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKyApIHtcblxuICAgICAgICAgICAgbGV0IGl0ZW0gPSBpdGVtc1sgaSBdO1xuICAgICAgICAgICAgbGV0IGFtb3VudCA9IHBhcnNlSW50KCBpdGVtLmdldEF0dHJpYnV0ZSggJ2RhdGEtdG8nICksIDEwICkgLSBwYXJzZUludCggaXRlbS5nZXRBdHRyaWJ1dGUoICdkYXRhLWZyb20nICksIDEwICk7XG4gICAgICAgICAgICBsZXQgdGltZSA9IHBhcnNlSW50KCBpdGVtLmdldEF0dHJpYnV0ZSggJ2RhdGEtc3BlZWQnICksIDEwICk7XG4gICAgICAgICAgICBsZXQgaW50ZXJ2YWwgPSBwYXJzZUludCggaXRlbS5nZXRBdHRyaWJ1dGUoICdkYXRhLXJlZnJlc2gtaW50ZXJ2YWwnICksIDEwICk7XG4gICAgICAgICAgICBsZXQgcHQgPSAwO1xuICAgICAgICAgICAgbGV0IGhlaWdodCA9IGl0ZW0ucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQub2Zmc2V0VG9wO1xuICAgICAgICAgICAgbGV0IGZsYWcgPSAwO1xuXG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCBcInNjcm9sbFwiLCBjb3VudFRvU2Nyb2xsSGFuZGxlciwgdHJ1ZSApO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBjb3VudFRvU2Nyb2xsSGFuZGxlciAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKCBwdCA8PSB0aW1lICYmIGhlaWdodCA+PSB3aW5kb3cucGFnZVlPZmZzZXQgKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICggMCA9PT0gZmxhZyApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0aW1lcklkID0gc2V0SW50ZXJ2YWwoICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHB0ID49IHRpbWUgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoIHRpbWVySWQgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmlubmVySFRNTCA9IHBhcnNlSW50KCAoIHB0ICogYW1vdW50ICkgLyB0aW1lICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHQgPSBwdCArIGludGVydmFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgaW50ZXJ2YWwgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGZsYWcgPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG4vKipcbiAqIFByZXZlbnQgWHNzIEF0dGFja1xuICogQHBhcmFtIHtOb2RlfSBodG1sIFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2FmZUNvbnRlbnQgKCBodG1sICkge1xuICAgIGNvbnN0IFNDUklQVF9SRUdFWCA9IC88c2NyaXB0XFxiW148XSooPzooPyE8XFwvc2NyaXB0Pik8W148XSopKjxcXC9zY3JpcHQ+L2dpO1xuXG4gICAgLy8gUmVtb3ZpbmcgdGhlIDxzY3JpcHQ+IHRhZ3NcbiAgICB3aGlsZSAoIFNDUklQVF9SRUdFWC50ZXN0KCBodG1sICkgKSB7XG4gICAgICAgIGh0bWwgPSBodG1sLnJlcGxhY2UoIFNDUklQVF9SRUdFWCwgXCJcIiApO1xuICAgIH1cblxuICAgIC8vIFJlbW92aW5nIGFsbCBldmVudHMgZnJvbSB0YWdzLi4uXG4gICAgaHRtbCA9IGh0bWwucmVwbGFjZSggLyBvblxcdys9XCJbXlwiXSpcIi9nLCBcIlwiICk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBfX2h0bWw6IGh0bWxcbiAgICB9XG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./utils/index.js\n");

/***/ })

});